<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rumus Harian - Sistem Konversi Mistik</title>
    <style>
        * { margin:0; padding:0; box-sizing:border-box; }
        body { 
            font-family: Arial, sans-serif; 
            background: linear-gradient(135deg,#667eea,#764ba2); 
            min-height:100vh; 
            padding:20px; 
        }
        .container { 
            max-width:1000px; 
            margin:0 auto; 
            background:white; 
            border-radius:15px; 
            padding:30px; 
            box-shadow:0 10px 30px rgba(0,0,0,0.2); 
        }
        h1 { 
            text-align:center; 
            color:#333; 
            margin-bottom:10px; 
        }
        .subtitle { 
            text-align:center; 
            color:#666; 
            font-size:14px; 
            margin-bottom:30px; 
        }
        
        .input-section { 
            background:#f8f9fa; 
            padding:25px; 
            border-radius:10px; 
            border:2px solid #e9ecef; 
            margin-bottom:25px; 
        }
        .section-title { 
            color:#333; 
            margin-bottom:15px; 
            font-size:16px; 
            font-weight:bold; 
        }
        
        .form-control, .form-select {
            border: 2px solid #ddd;
            border-radius: 8px;
            padding: 10px;
            font-size: 14px;
            width: 100%;
        }
        .form-control:focus, .form-select:focus {
            border-color: #667eea;
            outline: none;
            box-shadow: 0 0 5px rgba(102, 126, 234, 0.3);
        }
        
        .row {
            display: flex;
            flex-wrap: wrap;
            margin: 0 -5px;
        }
        .col {
            flex: 1;
            padding: 0 5px;
            margin-bottom: 10px;
            min-width: 120px;
        }
        
        .btn {
            padding: 12px 25px;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }
        .btn-submit {
            background: #4CAF50;
            color: white;
        }
        .btn-submit:hover {
            background: #45a049;
            transform: translateY(-2px);
        }
        
        .result-input-section {
            background: #e8f5e9;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            border: 2px solid #c8e6c9;
        }
        
        .manual-input-group {
            display: flex;
            gap: 10px;
            align-items: center;
            margin-bottom: 10px;
        }
        
        .input-label {
            font-weight: bold;
            color: #333;
            min-width: 80px;
        }
        
        .number-input {
            width: 60px;
            text-align: center;
            padding: 8px;
            border: 2px solid #ddd;
            border-radius: 5px;
            font-size: 16px;
            font-weight: bold;
        }
        
        .bg-info { background-color: #d1ecf1 !important; }
        .bg-danger { background-color: #f8d7da !important; }
        
        .result-section {
            background: #fff3cd;
            padding: 20px;
            border-radius: 8px;
            margin-top: 20px;
            border: 2px solid #ffeaa7;
            display: none;
        }
        
        .conversion-table {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            margin-top: 20px;
            border: 1px solid #ddd;
        }
        .table-title {
            font-weight: bold;
            margin-bottom: 10px;
            color: #333;
        }
        .conversion-row {
            display: flex;
            margin-bottom: 5px;
            padding: 5px;
            border-bottom: 1px solid #eee;
        }
        .conv-type {
            font-weight: bold;
            min-width: 50px;
            color: #666;
        }
        .conv-pairs {
            display: flex;
            gap: 15px;
        }
        .conv-pair {
            background: white;
            padding: 2px 8px;
            border-radius: 4px;
            border: 1px solid #ddd;
            font-family: monospace;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ðŸ”¢ RUMUS HARIAN OTOMATIS</h1>
        <div class="subtitle">Sistem Konversi Angka Mistik Lengkap</div>
        
        <div class="input-section">
            <div class="section-title">ðŸ“¥ INPUT DATA MANUAL</div>
            
            <form id="predictionForm">
                <!-- Manual Result Input -->
                <div class="result-input-section">
                    <div class="section-title">ðŸŽ¯ INPUT RESULT MANUAL</div>
                    
                    <div class="manual-input-group">
                        <span class="input-label">AS:</span>
                        <input type="number" name="as" class="number-input" min="0" max="99" placeholder="00" required>
                    </div>
                    
                    <div class="manual-input-group">
                        <span class="input-label">KOP:</span>
                        <input type="number" name="kop" class="number-input" min="0" max="99" placeholder="00" required>
                    </div>
                    
                    <div class="manual-input-group">
                        <span class="input-label">KEPALA:</span>
                        <input type="number" name="kepala" class="number-input" min="0" max="99" placeholder="00" required>
                    </div>
                    
                    <div class="manual-input-group">
                        <span class="input-label">EKOR:</span>
                        <input type="number" name="ekor" class="number-input" min="0" max="99" placeholder="00" required>
                    </div>
                </div>

                <!-- Configuration -->
                <div class="row">
                    <div class="col">
                        <label class="section-title">Putaran</label>
                        <input type="number" name="putaran" value="3" min="3" max="200" class="form-control">
                    </div>
                    <div class="col">
                        <label class="section-title">Posisi</label>
                        <select class="form-select" name="posisi">
                            <option value="a">A</option>
                            <option value="c">C</option>
                            <option value="k">K</option>
                            <option value="e">E</option>
                            <option value="ac">Ac</option>
                            <option value="ck">Ck</option>
                            <option value="ke">Ke</option>
                            <option value="jd">Jd</option>
                            <option value="jt">Jt</option>
                            <option value="j">J</option>
                            <option value="acke">Cb</option>
                        </select>
                    </div>
                </div>

                <!-- Calculation System -->
                <div class="section-title mt-3">ðŸ§® SISTEM KALKULASI</div>
                
                <div class="row">
                    <div class="col">
                        <select class="form-select" name="key1">
                            <option value="a1">a1</option>
                            <option value="a2">a2</option>
                            <option value="a3">a3</option>
                            <option value="a4">a4</option>
                            <option value="a5">a5</option>
                            <option value="a6">a6</option>
                            <option value="a7">a7</option>
                            <option value="a8">a8</option>
                            <option value="a9">a9</option>
                            <option value="a10">a10</option>
                            <option value="c1">c1</option>
                            <option value="c2">c2</option>
                            <option value="c3">c3</option>
                            <option value="c4">c4</option>
                            <option value="c5">c5</option>
                            <option value="c6">c6</option>
                            <option value="c7">c7</option>
                            <option value="c8">c8</option>
                            <option value="c9">c9</option>
                            <option value="c10">c10</option>
                            <option value="k1">k1</option>
                            <option value="k2">k2</option>
                            <option value="k3">k3</option>
                            <option value="k4">k4</option>
                            <option value="k5">k5</option>
                            <option value="k6">k6</option>
                            <option value="k7">k7</option>
                            <option value="k8">k8</option>
                            <option value="k9">k9</option>
                            <option value="k10">k10</option>
                            <option value="e1">e1</option>
                            <option value="e2">e2</option>
                            <option value="e3">e3</option>
                            <option value="e4">e4</option>
                            <option value="e5">e5</option>
                            <option value="e6">e6</option>
                            <option value="e7">e7</option>
                            <option value="e8">e8</option>
                            <option value="e9">e9</option>
                            <option value="e10">e10</option>
                        </select>
                    </div>
                    <div class="col">
                        <select class="form-select bg-info" name="conversi1">
                            <option value="n0">Tidak</option>
                            <option value="ix">ix</option>
                            <option value="ty">ty</option>
                            <option value="ml">ml</option>
                            <option value="mb">mb</option>
                            <option value="m0">m0</option>
                            <option value="m1">m1</option>
                            <option value="m3">m3</option>
                            <option value="m5">m5</option>
                            <option value="m7">m7</option>
                            <option value="m9">m9</option>
                        </select>
                    </div>
                    <div class="col">
                        <select class="form-select" name="arit1">
                            <option value="+">+</option>
                            <option value="-">-</option>
                        </select>
                    </div>
                </div>

                <div class="row mt-2">
                    <div class="col">
                        <select class="form-select" name="key2">
                            <option value="">Tidak</option>
                            <option value="a1">a1</option>
                            <option value="a2">a2</option>
                            <option value="a3">a3</option>
                            <option value="a4">a4</option>
                            <option value="a5">a5</option>
                            <option value="a6">a6</option>
                            <option value="a7">a7</option>
                            <option value="a8">a8</option>
                            <option value="a9">a9</option>
                            <option value="a10">a10</option>
                            <option value="c1">c1</option>
                            <option value="c2">c2</option>
                            <option value="c3">c3</option>
                            <option value="c4">c4</option>
                            <option value="c5">c5</option>
                            <option value="c6">c6</option>
                            <option value="c7">c7</option>
                            <option value="c8">c8</option>
                            <option value="c9">c9</option>
                            <option value="c10">c10</option>
                            <option value="k1">k1</option>
                            <option value="k2">k2</option>
                            <option value="k3">k3</option>
                            <option value="k4">k4</option>
                            <option value="k5">k5</option>
                            <option value="k6">k6</option>
                            <option value="k7">k7</option>
                            <option value="k8">k8</option>
                            <option value="k9">k9</option>
                            <option value="k10">k10</option>
                            <option value="e1">e1</option>
                            <option value="e2">e2</option>
                            <option value="e3">e3</option>
                            <option value="e4">e4</option>
                            <option value="e5">e5</option>
                            <option value="e6">e6</option>
                            <option value="e7">e7</option>
                            <option value="e8">e8</option>
                            <option value="e9">e9</option>
                            <option value="e10">e10</option>
                        </select>
                    </div>
                    <div class="col">
                        <select class="form-select bg-info" name="conversi2">
                            <option value="n0">Tidak</option>
                            <option value="ix">ix</option>
                            <option value="ty">ty</option>
                            <option value="ml">ml</option>
                            <option value="mb">mb</option>
                            <option value="m0">m0</option>
                            <option value="m1">m1</option>
                            <option value="m3">m3</option>
                            <option value="m5">m5</option>
                            <option value="m7">m7</option>
                            <option value="m9">m9</option>
                        </select>
                    </div>
                    <div class="col">
                        <select class="form-select bg-danger" name="conversihasil">
                            <option value="n0">Tidak</option>
                            <option value="ix">ix</option>
                            <option value="ty">ty</option>
                            <option value="ml">ml</option>
                            <option value="mb">mb</option>
                            <option value="m0">m0</option>
                            <option value="m1">m1</option>
                            <option value="m3">m3</option>
                            <option value="m5">m5</option>
                            <option value="m7">m7</option>
                            <option value="m9">m9</option>
                        </select>
                    </div>
                </div>

                <button class="btn btn-submit mt-3" type="button" id="calculateBtn">ðŸš€ PROSES KALKULASI</button>
            </form>

            <!-- Conversion Table -->
            <div class="conversion-table">
                <div class="table-title">ðŸ“‹ TABEL KONVERSI ANGKA MISTIK</div>
                <div class="conversion-row">
                    <div class="conv-type">IX:</div>
                    <div class="conv-pairs">
                        <div class="conv-pair">0Â«Â»5</div>
                        <div class="conv-pair">1Â«Â»6</div>
                        <div class="conv-pair">2Â«Â»7</div>
                        <div class="conv-pair">3Â«Â»8</div>
                        <div class="conv-pair">4Â«Â»9</div>
                    </div>
                </div>
                <div class="conversion-row">
                    <div class="conv-type">TY:</div>
                    <div class="conv-pairs">
                        <div class="conv-pair">0Â«Â»7</div>
                        <div class="conv-pair">1Â«Â»4</div>
                        <div class="conv-pair">2Â«Â»9</div>
                        <div class="conv-pair">3Â«Â»6</div>
                        <div class="conv-pair">5Â«Â»8</div>
                    </div>
                </div>
                <div class="conversion-row">
                    <div class="conv-type">ML:</div>
                    <div class="conv-pairs">
                        <div class="conv-pair">0Â«Â»1</div>
                        <div class="conv-pair">2Â«Â»5</div>
                        <div class="conv-pair">3Â«Â»8</div>
                        <div class="conv-pair">4Â«Â»7</div>
                        <div class="conv-pair">6Â«Â»9</div>
                    </div>
                </div>
                <div class="conversion-row">
                    <div class="conv-type">MB:</div>
                    <div class="conv-pairs">
                        <div class="conv-pair">0Â«Â»8</div>
                        <div class="conv-pair">1Â«Â»7</div>
                        <div class="conv-pair">2Â«Â»6</div>
                        <div class="conv-pair">3Â«Â»9</div>
                        <div class="conv-pair">4Â«Â»5</div>
                    </div>
                </div>
                <div class="conversion-row">
                    <div class="conv-type">M0:</div>
                    <div class="conv-pairs">
                        <div class="conv-pair">0Â«Â»6</div>
                        <div class="conv-pair">1Â«Â»5</div>
                        <div class="conv-pair">2Â«Â»7</div>
                        <div class="conv-pair">3Â«Â»8</div>
                        <div class="conv-pair">4Â«Â»9</div>
                    </div>
                </div>
                <div class="conversion-row">
                    <div class="conv-type">M1:</div>
                    <div class="conv-pairs">
                        <div class="conv-pair">0Â«Â»1</div>
                        <div class="conv-pair">2Â«Â»9</div>
                        <div class="conv-pair">3Â«Â»8</div>
                        <div class="conv-pair">4Â«Â»7</div>
                        <div class="conv-pair">5Â«Â»6</div>
                    </div>
                </div>
                <div class="conversion-row">
                    <div class="conv-type">M3:</div>
                    <div class="conv-pairs">
                        <div class="conv-pair">0Â«Â»3</div>
                        <div class="conv-pair">1Â«Â»2</div>
                        <div class="conv-pair">4Â«Â»9</div>
                        <div class="conv-pair">5Â«Â»8</div>
                        <div class="conv-pair">6Â«Â»7</div>
                    </div>
                </div>
                <div class="conversion-row">
                    <div class="conv-type">M5:</div>
                    <div class="conv-pairs">
                        <div class="conv-pair">0Â«Â»5</div>
                        <div class="conv-pair">1Â«Â»4</div>
                        <div class="conv-pair">2Â«Â»3</div>
                        <div class="conv-pair">6Â«Â»9</div>
                        <div class="conv-pair">7Â«Â»8</div>
                    </div>
                </div>
                <div class="conversion-row">
                    <div class="conv-type">M7:</div>
                    <div class="conv-pairs">
                        <div class="conv-pair">0Â«Â»7</div>
                        <div class="conv-pair">1Â«Â»6</div>
                        <div class="conv-pair">2Â«Â»5</div>
                        <div class="conv-pair">3Â«Â»4</div>
                        <div class="conv-pair">8Â«Â»9</div>
                    </div>
                </div>
                <div class="conversion-row">
                    <div class="conv-type">M9:</div>
                    <div class="conv-pairs">
                        <div class="conv-pair">0Â«Â»9</div>
                        <div class="conv-pair">1Â«Â»8</div>
                        <div class="conv-pair">2Â«Â»7</div>
                        <div class="conv-pair">3Â«Â»6</div>
                        <div class="conv-pair">4Â«Â»5</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Results Section -->
        <div class="result-section" id="resultSection">
            <div class="section-title">ðŸ“Š HASIL KALKULASI</div>
            <div id="calculationResult"></div>
            <div id="calculationDetails" style="margin-top: 15px; font-size: 14px; color: #666;"></div>
        </div>
    </div>

    <script>
        // Tabel Konversi Angka Mistik
        const conversionTables = {
            'ix': {'0': '5', '5': '0', '1': '6', '6': '1', '2': '7', '7': '2', '3': '8', '8': '3', '4': '9', '9': '4'},
            'ty': {'0': '7', '7': '0', '1': '4', '4': '1', '2': '9', '9': '2', '3': '6', '6': '3', '5': '8', '8': '5'},
            'ml': {'0': '1', '1': '0', '2': '5', '5': '2', '3': '8', '8': '3', '4': '7', '7': '4', '6': '9', '9': '6'},
            'mb': {'0': '8', '8': '0', '1': '7', '7': '1', '2': '6', '6': '2', '3': '9', '9': '3', '4': '5', '5': '4'},
            'm0': {'0': '6', '6': '0', '1': '5', '5': '1', '2': '7', '7': '2', '3': '8', '8': '3', '4': '9', '9': '4'},
            'm1': {'0': '1', '1': '0', '2': '9', '9': '2', '3': '8', '8': '3', '4': '7', '7': '4', '5': '6', '6': '5'},
            'm3': {'0': '3', '3': '0', '1': '2', '2': '1', '4': '9', '9': '4', '5': '8', '8': '5', '6': '7', '7': '6'},
            'm5': {'0': '5', '5': '0', '1': '4', '4': '1', '2': '3', '3': '2', '6': '9', '9': '6', '7': '8', '8': '7'},
            'm7': {'0': '7', '7': '0', '1': '6', '6': '1', '2': '5', '5': '2', '3': '4', '4': '3', '8': '9', '9': '8'},
            'm9': {'0': '9', '9': '0', '1': '8', '8': '1', '2': '7', '7': '2', '3': '6', '6': '3', '4': '5', '5': '4'}
        };

        // Fungsi konversi angka
        function convertNumber(number, conversionType) {
            if (conversionType === 'n0') return number;
            
            const numStr = number.toString();
            let result = '';
            
            for (let digit of numStr) {
                if (conversionTables[conversionType] && conversionTables[conversionType][digit]) {
                    result += conversionTables[conversionType][digit];
                } else {
                    result += digit;
                }
            }
            
            return parseInt(result);
        }

        // Fungsi extract digit dari key
        function getDigitFromKey(key, data) {
            if (!key) return 0;
            
            const keyType = key.charAt(0); // a, c, k, e
            const keyIndex = parseInt(key.substring(1)) - 1; // 0-based index
            
            const digits = {
                'a': data.as.toString().padStart(2, '0'),
                'c': data.kop.toString().padStart(2, '0'),
                'k': data.kepala.toString().padStart(2, '0'),
                'e': data.ekor.toString().padStart(2, '0')
            };
            
            if (digits[keyType] && digits[keyType][keyIndex]) {
                return parseInt(digits[keyType][keyIndex]);
            }
            
            return 0;
        }

        // Fungsi kalkulasi utama
        function calculatePrediction() {
            // Ambil nilai dari form
            const as = parseInt(document.querySelector('[name="as"]').value) || 0;
            const kop = parseInt(document.querySelector('[name="kop"]').value) || 0;
            const kepala = parseInt(document.querySelector('[name="kepala"]').value) || 0;
            const ekor = parseInt(document.querySelector('[name="ekor"]').value) || 0;
            const key1 = document.querySelector('[name="key1"]').value;
            const conversi1 = document.querySelector('[name="conversi1"]').value;
            const arit1 = document.querySelector('[name="arit1"]').value;
            const key2 = document.querySelector('[name="key2"]').value;
            const conversi2 = document.querySelector('[name="conversi2"]').value;
            const conversihasil = document.querySelector('[name="conversihasil"]').value;
            
            const data = { as, kop, kepala, ekor };
            
            // Proses kalkulasi
            let value1 = getDigitFromKey(key1, data);
            let value2 = getDigitFromKey(key2, data);
            
            // Konversi nilai
            value1 = convertNumber(value1, conversi1);
            value2 = convertNumber(value2, conversi2);
            
            // Operasi aritmatika
            let result;
            if (arit1 === '+') {
                result = value1 + value2;
            } else {
                result = value1 - value2;
            }
            
            // Konversi hasil akhir
            result = convertNumber(Math.abs(result), conversihasil);
            
            // Pastikan hasil 2 digit
            result = result % 100;
            
            // Tampilkan hasil
            const resultStr = result.toString().padStart(2, '0');
            
            document.getElementById('calculationResult').innerHTML = `
                <div style="font-size: 24px; font-weight: bold; text-align: center; color: #d63031;">
                    ðŸŽ¯ PREDIKSI: <span style="color: #e17055;">${resultStr}</span>
                </div>
            `;
            
            // Detail kalkulasi
            document.getElementById('calculationDetails').innerHTML = `
                <p><strong>Detail Kalkulasi:</strong></p>
                <p>${key1} (${getDigitFromKey(key1, data)}) â†’ ${conversi1} â†’ ${value1}</p>
                <p>${arit1}</p>
                <p>${key2 ? key2 + ' (' + getDigitFromKey(key2, data) + ') â†’ ' + conversi2 + ' â†’ ' + value2 : '0'}</p>
                <p>= ${value1} ${arit1} ${value2} = ${result}</p>
                <p>Konversi ${conversihasil} â†’ <strong>${resultStr}</strong></p>
            `;
            
            document.getElementById('resultSection').style.display = 'block';
        }

        // Event Listeners
        document.addEventListener('DOMContentLoaded', function() {
            const numberInputs = document.querySelectorAll('.number-input');
            const calculateBtn = document.getElementById('calculateBtn');
            
            numberInputs.forEach(input => {
                input.addEventListener('input', function() {
                    if (this.value > 99) this.value = 99;
                    if (this.value < 0) this.value = 0;
                    if (this.value.length === 1) {
                        this.value = '0' + this.value;
                    }
                });
                
                input.addEventListener('blur', function() {
                    if (this.value && this.value.length === 1) {
                        this.value = '0' + this.value;
                    }
                });
            });
            
            calculateBtn.addEventListener('click', calculatePrediction);
        });
    </script>
</body>
</html>
